<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang="ko">포트폴리오 | 설정</title>
    <title data-lang="en">Portfolio | Settings</title>
    <title data-lang="es">Portafolio | Configuración</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/language-selector.css">
    <link rel="stylesheet" href="assets/css/settings.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="assets/js/firebase-init.js"></script>
</head>
<body>
    <!-- 상단 헤더 -->
    <header class="top-header">
        <div class="menu-toggle">
            <button id="sidebar-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <div class="site-title">
            <h1 data-lang="ko">설정</h1>
            <h1 data-lang="en">Settings</h1>
            <h1 data-lang="es">Configuración</h1>
        </div>
        
        <div class="user-profile">
            <!-- 로그인 상태 -->
            <div id="user-logged-in" style="display: none;">
                <button id="profile-button" class="profile-button">
                    <div class="avatar">
                        <span id="profile-initial">P</span>
                    </div>
                    <div class="user-info">
                        <span id="user-name" class="user-name">사용자명</span>
                        <span id="user-id" class="user-id">@userid</span>
                    </div>
                </button>
                <div id="profile-dropdown" class="profile-dropdown">
                    <ul>
                        <li><a href="settings.html" data-lang="ko">설정</a><a href="settings.html" data-lang="en">Settings</a><a href="settings.html" data-lang="es">Configuración</a></li>
                        <li><button id="logout-btn" data-lang="ko">로그아웃</button><button id="logout-btn" data-lang="en">Logout</button><button id="logout-btn" data-lang="es">Cerrar sesión</button></li>
                    </ul>
                </div>
            </div>
            
            <!-- 비로그인 상태 -->
            <div id="user-logged-out">
                <a href="auth.html" class="login-button">
                    <i class="fas fa-user-circle"></i>
                    <span data-lang="ko">로그인</span>
                    <span data-lang="en">Sign in</span>
                    <span data-lang="es">Iniciar sesión</span>
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- 사이드바 네비게이션 -->
        <nav class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item">
                    <a href="index.html">
                        <span class="icon"><i class="fas fa-home"></i></span>
                        <span class="menu-text" data-lang="ko">홈</span>
                        <span class="menu-text" data-lang="en">Home</span>
                        <span class="menu-text" data-lang="es">Inicio</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="blog.html">
                        <span class="icon"><i class="fas fa-edit"></i></span>
                        <span class="menu-text" data-lang="ko">블로그</span>
                        <span class="menu-text" data-lang="en">Blog</span>
                        <span class="menu-text" data-lang="es">Blog</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="portfolio.html">
                        <span class="icon"><i class="fas fa-palette"></i></span>
                        <span class="menu-text" data-lang="ko">포트폴리오</span>
                        <span class="menu-text" data-lang="en">Portfolio</span>
                        <span class="menu-text" data-lang="es">Portafolio</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="projects.html">
                        <span class="icon"><i class="fas fa-project-diagram"></i></span>
                        <span class="menu-text" data-lang="ko">프로젝트</span>
                        <span class="menu-text" data-lang="en">Projects</span>
                        <span class="menu-text" data-lang="es">Proyectos</span>
                    </a>
                </li>
            </ul>
            
            <!-- 언어 전환 버튼 -->
            <div class="language-switcher">
                <button id="change-language" class="language-switch-btn">
                    <span id="current-language-icon">🇰🇷</span>
                    <span id="current-language-text" data-lang="ko">한국어</span>
                    <span id="current-language-text" data-lang="en">English</span>
                    <span id="current-language-text" data-lang="es">Español</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="language-dropdown" class="language-dropdown">
                    <ul>
                        <li data-lang="ko"><span class="lang-flag">🇰🇷</span> 한국어</li>
                        <li data-lang="en"><span class="lang-flag">🇺🇸</span> English</li>
                        <li data-lang="es"><span class="lang-flag">🇪🇸</span> Español</li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <!-- 메인 콘텐츠 -->
        <main class="main-content" id="main-content">
            <header class="page-header">
                <h1 class="page-title" data-lang="ko">프로필 설정</h1>
                <h1 class="page-title" data-lang="en">Profile Settings</h1>
                <h1 class="page-title" data-lang="es">Configuración del Perfil</h1>
                <div class="theme-toggle">
                    <button id="theme-toggle-btn">🌙</button>
                </div>
            </header>
            
            <!-- 설정 폼 컨테이너 -->
            <div class="settings-container">
                <!-- 로딩 표시 -->
                <div id="settings-loading" class="settings-loading">
                    <div class="spinner"></div>
                    <p data-lang="ko">로딩 중...</p>
                    <p data-lang="en">Loading...</p>
                    <p data-lang="es">Cargando...</p>
                </div>
                
                <!-- 비로그인 상태 알림 -->
                <div id="login-required-message" class="login-required-message" style="display:none;">
                    <div class="message-icon">
                        <i class="fas fa-exclamation-circle"></i>
                    </div>
                    <div class="message-content">
                        <h3 data-lang="ko">로그인이 필요합니다</h3>
                        <h3 data-lang="en">Login Required</h3>
                        <h3 data-lang="es">Se requiere inicio de sesión</h3>
                        <p data-lang="ko">설정을 변경하려면 먼저 로그인해 주세요.</p>
                        <p data-lang="en">Please log in to change your settings.</p>
                        <p data-lang="es">Inicie sesión para cambiar su configuración.</p>
                        <a href="auth.html" class="login-redirect-btn" data-lang="ko">로그인 페이지로 이동</a>
                        <a href="auth.html" class="login-redirect-btn" data-lang="en">Go to Login Page</a>
                        <a href="auth.html" class="login-redirect-btn" data-lang="es">Ir a la página de inicio de sesión</a>
                    </div>
                </div>
                
                <!-- 설정 폼 -->
                <div id="settings-form" style="display:none;">
                    <!-- 프로필 설정 -->
                    <div class="settings-section">
                        <h2 class="section-title" data-lang="ko">프로필 정보</h2>
                        <h2 class="section-title" data-lang="en">Profile Information</h2>
                        <h2 class="section-title" data-lang="es">Información de Perfil</h2>
                        
                        <div class="form-group">
                            <label for="display-name" data-lang="ko">닉네임</label>
                            <label for="display-name" data-lang="en">Display Name</label>
                            <label for="display-name" data-lang="es">Nombre para mostrar</label>
                            <input type="text" id="display-name" name="display-name">
                            <small class="form-helper" data-lang="ko">다른 사용자에게 표시되는 이름입니다.</small>
                            <small class="form-helper" data-lang="en">This is the name that will be displayed to other users.</small>
                            <small class="form-helper" data-lang="es">Este es el nombre que se mostrará a otros usuarios.</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="username" data-lang="ko">사용자 ID</label>
                            <label for="username" data-lang="en">Username</label>
                            <label for="username" data-lang="es">Nombre de usuario</label>
                            <div class="username-input">
                                <span class="username-prefix">@</span>
                                <input type="text" id="username" name="username">
                            </div>
                            <small class="form-helper" data-lang="ko">영문, 숫자, 밑줄(_)만 사용 가능합니다.</small>
                            <small class="form-helper" data-lang="en">Only letters, numbers, and underscores (_) are allowed.</small>
                            <small class="form-helper" data-lang="es">Solo se permiten letras, números y guiones bajos (_).</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="user-email" data-lang="ko">이메일</label>
                            <label for="user-email" data-lang="en">Email</label>
                            <label for="user-email" data-lang="es">Correo electrónico</label>
                            <input type="email" id="user-email" name="user-email" disabled>
                            <small class="form-helper" data-lang="ko">이메일은 변경할 수 없습니다.</small>
                            <small class="form-helper" data-lang="en">Email cannot be changed.</small>
                            <small class="form-helper" data-lang="es">El correo electrónico no se puede cambiar.</small>
                        </div>
                        
                        <button id="save-profile-btn" class="save-btn" data-lang="ko">프로필 저장</button>
                        <button id="save-profile-btn" class="save-btn" data-lang="en">Save Profile</button>
                        <button id="save-profile-btn" class="save-btn" data-lang="es">Guardar Perfil</button>
                    </div>
                    
                    <!-- 비밀번호 변경 -->
                    <div class="settings-section">
                        <h2 class="section-title" data-lang="ko">비밀번호 변경</h2>
                        <h2 class="section-title" data-lang="en">Change Password</h2>
                        <h2 class="section-title" data-lang="es">Cambiar Contraseña</h2>
                        
                        <div class="form-group">
                            <label for="current-password" data-lang="ko">현재 비밀번호</label>
                            <label for="current-password" data-lang="en">Current Password</label>
                            <label for="current-password" data-lang="es">Contraseña Actual</label>
                            <input type="password" id="current-password" name="current-password">
                        </div>
                        
                        <div class="form-group">
                            <label for="new-password" data-lang="ko">새 비밀번호</label>
                            <label for="new-password" data-lang="en">New Password</label>
                            <label for="new-password" data-lang="es">Nueva Contraseña</label>
                            <input type="password" id="new-password" name="new-password">
                            <small class="form-helper" data-lang="ko">최소 6자 이상의 비밀번호를 입력하세요.</small>
                            <small class="form-helper" data-lang="en">Enter a password of at least 6 characters.</small>
                            <small class="form-helper" data-lang="es">Ingrese una contraseña de al menos 6 caracteres.</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-password" data-lang="ko">새 비밀번호 확인</label>
                            <label for="confirm-password" data-lang="en">Confirm New Password</label>
                            <label for="confirm-password" data-lang="es">Confirmar Nueva Contraseña</label>
                            <input type="password" id="confirm-password" name="confirm-password">
                        </div>
                        
                        <button id="change-password-btn" class="save-btn" data-lang="ko">비밀번호 변경</button>
                        <button id="change-password-btn" class="save-btn" data-lang="en">Change Password</button>
                        <button id="change-password-btn" class="save-btn" data-lang="es">Cambiar Contraseña</button>
                    </div>
                    
                    <!-- 계정 설정 -->
                    <div class="settings-section">
                        <h2 class="section-title" data-lang="ko">계정 설정</h2>
                        <h2 class="section-title" data-lang="en">Account Settings</h2>
                        <h2 class="section-title" data-lang="es">Configuración de la Cuenta</h2>
                        
                        <div class="account-buttons">
                            <button id="delete-account-btn" class="danger-btn" data-lang="ko">계정 삭제</button>
                            <button id="delete-account-btn" class="danger-btn" data-lang="en">Delete Account</button>
                            <button id="delete-account-btn" class="danger-btn" data-lang="es">Eliminar Cuenta</button>
                        </div>
                        <small class="form-helper warning" data-lang="ko">계정을 삭제하면 모든 데이터가 영구적으로 삭제됩니다.</small>
                        <small class="form-helper warning" data-lang="en">Deleting your account will permanently remove all your data.</small>
                        <small class="form-helper warning" data-lang="es">Eliminar su cuenta eliminará permanentemente todos sus datos.</small>
                    </div>
                </div>
                
                <!-- 알림 메시지 -->
                <div id="settings-message" class="settings-message"></div>
            </div>
        </main>
    </div>
    
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="assets/js/language.js"></script>
    <script src="assets/js/sidebar.js"></script>
    <script src="assets/js/profile.js"></script>
    <script src="assets/js/settings.js"></script>
</body>
</html>